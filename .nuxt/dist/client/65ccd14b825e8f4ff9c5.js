(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1337:function(r,t,e){var o=e(30),n=e(31),d=e(56),m=/"/g,c=function(r,t,e,o){var n=String(d(r)),c="<"+t;return""!==e&&(c+=" "+e+'="'+String(o).replace(m,"&quot;")+'"'),c+">"+n+"</"+t+">"};r.exports=function(r,t){var e={};e[r]=t(c),o(o.P+o.F*n(function(){var t=""[r]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",e)}},1339:function(r,t,e){"use strict";var o=e(74),n=e(449),d=e(55);r.exports=function(r){for(var t=o(this),e=d(t.length),m=arguments.length,c=n(m>1?arguments[1]:void 0,e),l=m>2?arguments[2]:void 0,v=void 0===l?e:n(l,e);v>c;)t[c++]=r;return t}},1340:function(r,t,e){"use strict";var o=e(35),n=e(87);r.exports=function(object,r,t){r in object?o.f(object,r,n(0,t)):object[r]=t}},1341:function(r,t,e){"use strict";e(1337)("fixed",function(r){return function(){return r(this,"tt","","")}})},1342:function(r,t,e){"use strict";var o=e(65),n=e(30),d=e(74),m=e(454),c=e(450),l=e(55),v=e(1340),f=e(451);n(n.S+n.F*!e(452)(function(r){Array.from(r)}),"Array",{from:function(r){var t,e,n,h,P=d(r),C="function"==typeof this?this:Array,_=arguments.length,w=_>1?arguments[1]:void 0,D=void 0!==w,T=0,x=f(P);if(D&&(w=o(w,_>2?arguments[2]:void 0,2)),null==x||C==Array&&c(x))for(e=new C(t=l(P.length));t>T;T++)v(e,T,D?w(P[T],T):P[T]);else for(h=x.call(P),e=new C;!(n=h.next()).done;T++)v(e,T,D?m(h,w,[n.value,T],!0):n.value);return e.length=T,e}})},1343:function(r,t,e){var o=e(30);o(o.P,"Array",{fill:e(1339)}),e(140)("fill")},1344:function(r,t,e){"use strict";var o=e(30),n=e(55),d=e(197),m="".endsWith;o(o.P+o.F*e(198)("endsWith"),"String",{endsWith:function(r){var t=d(this,r,"endsWith"),e=arguments.length>1?arguments[1]:void 0,o=n(t.length),c=void 0===e?o:Math.min(n(e),o),l=String(r);return m?m.call(t,l,c):t.slice(c-l.length,c)===l}})},1345:function(r,t,e){"use strict";var o=e(30),n=e(453)(6),d="findIndex",m=!0;d in[]&&Array(1)[d](function(){m=!1}),o(o.P+o.F*m,"Array",{findIndex:function(r){return n(this,r,arguments.length>1?arguments[1]:void 0)}}),e(140)(d)},1346:function(r,t,e){"use strict";e(1337)("bold",function(r){return function(){return r(this,"b","","")}})},1624:function(r,t,e){"use strict";e.r(t);e(18);var o=e(27),n=(e(142),e(1338)),d=e(75),m={components:{mdbTab:n.S,mdbTabItem:n.U,mdbTabContent:n.T,mdbTabPane:n.V,mdbLineChart:n.E,mdbDatatable:n.t,mdbTooltip:n.Z,mdbGoogleMap:n.A,mdbContainer:n.s,mdbRow:n.P,mdbCol:n.r,mdbCard:n.e,mdbCardImage:n.k,mdbCardHeader:n.j,mdbEdgeHeader:n.y,mdbCardBody:n.g,mdbCardTitle:n.m,mdbCardText:n.l,mdbCardFooter:n.h,mdbCardUp:n.n,mdbCardAvatar:n.f,mdbCardGroup:n.i,mdbBtn:n.d,mdbView:n.ab,mdbMask:n.F,mdbStretchedLink:n.R,mdbIcon:n.B,mdbFlippingCard:n.mdbFlippingCard,mdbAvatar:n.mdbAvatar,mdbTbl:n.X,mdbChip:n.mdbChip,mdbTabs:n.W,mdbSelect:n.mdbSelect,mdbJumbotron:n.D,mdbCarousel:n.o,mdbCarouselItem:n.p,mdbProgress:n.O},data:function(){return{pillsActive:0,verticalWithin:0,tabIndex:0,selected:["b"],options:[{value:"",text:"==Select Training Provider==",disabled:!0},{value:"a",text:"This is First option"},{value:"b",text:"Default Selected Option"},{value:"c",text:"This is another option"},{value:"d",text:"This one is disabled"},{value:"e",text:"This is option e"},{value:"f",text:"This is option f"},{value:"g",text:"This is option g"}],programProviderDataSet:{columns:[{label:"Provider Name",field:"name",sort:"asc"},{label:"Date Registered",field:"dateRegistered",sort:"asc"}],rows:[]},programDataSet:{columns:[{label:"Program Name",field:"programName",sort:"asc"},{label:"Description",field:"programDescription",sort:"asc"},{label:"Year",field:"programYear",sort:"asc"},{label:"Duration",field:"programDuration",sort:"asc"},{label:"Date Registered",field:"dateRegistered",sort:"asc"}],rows:[]},trainingProviders:0,trainees:0,providersList:[]}},mounted:function(){this.create()},computed:Object(o.a)({},Object(d.c)({program:"program/getPrograms",isContentLoading:"program/getLoaderStatus",programProvider:"program/getProgramProvider"}),{processPrograms:function(){return this.program},getProgramData:function(){return this.programDataSet.rows=this.program,this.programDataSet},getProvidersData:function(){return void 0!==this.programProvider.programTrainingProviders&&(this.programProviderDataSet.rows=this.programProvider.programTrainingProviders),this.programProviderDataSet}}),methods:Object(o.a)({},Object(d.b)({loadTradePrograms:"program/loadTradePrograms",loadProgramProvider:"program/loadTradeProgramProvider"}),{create:function(){this.loadTradePrograms().then(function(r){})},getProviderData:function(r){var t=this;return new Promise(function(e,o){void 0!==r.programTrainingProviders?(t.trainingProviders=r.programTrainingProviders.length,e(r.programTrainingProviders)):o("undefined")}).catch(function(r){console.log(r.message)})},providers:function(r){var t=this;this.loadProgramProvider(r).then(function(r){return t.getProgramProviderDataset()})},getProgramProviderDataset:function(){void 0!==this.programProvider.programTrainingProviders&&(this.trainingProviders=this.programProvider.programTrainingProviders.length)},linkClass:function(r){return this.tabIndex===r?["bg-primary","text-light"]:["bg-light","text-info"]}})},c=e(3),l=Object(c.a)(m,function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("div",[e("b-row",[e("b-col",{staticClass:"pb-3 pl-auto",attrs:{"align-self":"end",cols:"12"}},[e("mdb-btn",{staticClass:"text-white primary-color-dark",attrs:{size:"lg",color:"primary"},on:{click:function(t){return r.$emit("changeComponent",{component:"NewProgram",id:null})}}},[r._v("Create New")]),r._v(" "),e("hr")],1),r._v(" "),e("hr")],1),r._v(" "),e("mdb-row",[e("mdb-col",{staticClass:"m-5",attrs:{cols:"12"}},[e("mdb-tab",{attrs:{tabs:"",color:"primary",justify:""}},[e("mdb-tab-item",{attrs:{icon:"square",active:0==r.pillsActive},nativeOn:{click:function(t){t.preventDefault(),r.pillsActive=0}}},[r._v("Card View")]),r._v(" "),e("mdb-tab-item",{attrs:{icon:"table",active:1==r.pillsActive},nativeOn:{click:function(t){t.preventDefault(),r.pillsActive=1}}},[r._v("Table View")])],1),r._v(" "),e("mdb-tab-content",[0==r.pillsActive?e("mdb-tab-pane",{key:"show1",staticClass:"fade"},[e("mdb-row",r._l(r.processPrograms,function(t){return e("b-col",{key:t.id,attrs:{cols:"6"}},[e("div",[e("mdb-card",{staticClass:"chart-card"},[e("mdb-card-body",{staticClass:"pb-0"},[e("mdb-card-title",{staticClass:"font-weight-bold"},[r._v(r._s(t.programName)),e("mdb-btn",{staticClass:"pull-right",attrs:{color:"success"},on:{click:function(e){return r.$emit("changeComponent",{component:"NewProgramTrainingProvider",data:t})}}},[r._v("Add Training Provider")])],1),r._v(" "),e("p",{staticClass:"card-text mb-4"},[r._v(r._s(t.programDescription))]),r._v(" "),e("div",{staticClass:"d-flex justify-content-between mb-4"},[e("p",[e("mdb-icon",{staticClass:"text-info pr-2",attrs:{icon:"calendar",size:"lg"}}),r._v(r._s(t.programYear))],1),r._v(" "),e("p",[e("mdb-icon",{staticClass:"grey-text pr-2",attrs:{icon:"time",size:"lg"}}),r._v(r._s(t.programDuration))],1)]),r._v(" "),e("hr",{staticClass:"my-4"}),r._v(" "),e("div",{staticClass:"d-flex justify-content-between"},[e("mdb-btn",{staticClass:"display-4 align-self-end",attrs:{outline:"primary"}},[e("h5",[r._v(" All Trainees "),e("span",{staticClass:"badge badge-danger ml-2"},[r._v(r._s(r.trainees))])])])],1),r._v(" "),e("hr",{staticClass:"my-4"}),r._v(" "),e("div",{staticClass:"d-flex justify-content-between"},[e("mdb-btn",{staticClass:"display-4 align-self-end",attrs:{outline:"primary"}},[e("h5",[r._v(" All Training Providers "),e("span",{staticClass:"badge badge-danger ml-2"},[r._v(r._s(r.trainingProviders))])])])],1)],1),r._v(" "),e("mdb-card",[e("mdb-card-body",[e("div",[e("mdb-tbl",{staticStyle:{"overflow-y":"auto","overflow-x":"auto"}},[e("mdb-datatable",{attrs:{data:r.getProvidersData,striped:"",bordered:""}})],1)],1)])],1)],1),r._v("\r\n                "+r._s(r.providers(t._id))+"\r\n                ")],1)])}),1),r._v(" "),r.isContentLoading?e("div",{staticClass:"text-center"},[e("b-spinner",{attrs:{variant:"primary",label:"Text Centered"}})],1):r._e()],1):r._e(),r._v(" "),1==r.pillsActive?e("mdb-tab-pane",{key:"show2",staticClass:"fade",staticStyle:{"min-height":"700px","overflow-y":"auto"}},[e("mdb-card",[e("mdb-tbl",{staticStyle:{"overflow-y":"auto","overflow-x":"auto"}},[e("mdb-datatable",{attrs:{data:r.getProgramData,striped:"",bordered:"",materialInputs:""}})],1)],1)],1):r._e()],1)],1)],1)],1)},[],!1,null,null,null).exports,v={directives:{focus:{inserted:function(r){r.focus()}}},components:{mdbEdgeHeader:n.y,mdbContainer:n.s,mdbRow:n.P,mdbCol:n.r,mdbCardBody:n.g,mdbCard:n.e,mdbInput:n.C,mdbBtn:n.d,mdbIcon:n.B},data:function(){return{form:{programName:"",programDescription:"",programYear:"",programDuration:"",dateRegistered:null},formReset:!1}},computed:Object(o.a)({},Object(d.c)({formState:"program/getFormState",successState:"program/getSuccessState",errorState:"program/getErrorState"})),methods:Object(o.a)({},Object(d.b)({registerTradeProgram:"program/registerTradeProgram"}),{create:function(){var r=this;if(!this.form.programName)return this.$bvModal.msgBoxOk("Program Name required."),!1;if(!this.form.programYear)return this.$bvModal.msgBoxOk("Program Year required."),!1;if(!this.form.programDescription)return this.$bvModal.msgBoxOk("Program Description required."),!1;if(!this.form.programDuration)return this.$bvModal.msgBoxOk("Program Duration required."),!1;this.formReset=!this.formReset;var t=new Date;this.form.dateRegistered=t,this.registerTradeProgram(this.form).then(function(t){return r.resetForm()}).catch(console.error)},resetForm:function(){this.formReset=!this.formReset,this.watchSuccessState(),this.watchErrorState()},watchSuccessState:function(){this.successState&&(this.flashMessage.success({title:"GOT IT",message:"Program Created Successfully",icon:!0}),this.form.programName=this.form.programDescription=this.form.programYear=this.form.programDuration="")},watchErrorState:function(){this.errorState&&this.flashMessage.error({title:"Oops!: ",message:"Program  Fail to Create. Try again",icon:!0})}})},f=Object(c.a)(v,function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("div",{staticClass:"animated fadeIn"},[e("FlashMessage"),r._v(" "),e("section",{staticStyle:{background:"#ededed","padding-bottom":"100px"}},[e("mdb-edge-header",{staticStyle:{"background-color":"#2BBBAD"}}),r._v(" "),e("mdb-container",{attrs:{"free-bird":""}},[e("mdb-row",[e("mdb-col",{staticClass:"mx-auto float-none",attrs:{md:"8",lg:"7"}},[e("b-link",{staticClass:"card-link text-white",attrs:{href:"#"},on:{click:function(t){return r.$emit("changeComponent",{component:"ProgramView",id:null})}}},[e("mdb-icon",{staticClass:"text-white",attrs:{icon:"arrow-left",size:"lg"}}),r._v("  View All Development Programs")],1),r._v(" "),e("mdb-card",{staticClass:"weather-card"},[e("mdb-card-body",{staticClass:"pb-3"},[e("h2",{staticClass:"h2-responsive"},[e("strong",[r._v("New Development Program Form")])]),r._v(" "),e("p",{staticClass:"pb-4"},[r._v("Create Development Program")]),r._v(" "),e("div",[e("form",[e("mdb-input",{attrs:{label:"Program Name"},model:{value:r.form.programName,callback:function(t){r.$set(r.form,"programName",t)},expression:"form.programName"}}),r._v(" "),e("mdb-input",{attrs:{type:"textarea",label:"Program Description",rows:2},model:{value:r.form.programDescription,callback:function(t){r.$set(r.form,"programDescription",t)},expression:"form.programDescription"}}),r._v(" "),e("mdb-input",{attrs:{label:"Program Year"},model:{value:r.form.programYear,callback:function(t){r.$set(r.form,"programYear",t)},expression:"form.programYear"}}),r._v(" "),e("mdb-input",{attrs:{label:"Program Duration"},model:{value:r.form.programDuration,callback:function(t){r.$set(r.form,"programDuration",t)},expression:"form.programDuration"}}),r._v(" "),e("mdb-btn",{attrs:{color:"primary",disabled:r.formReset},nativeOn:{click:function(t){return t.preventDefault(),r.create()}}},[r._v("Submit\n                               "),!0===r.formReset?e("b-spinner",{attrs:{small:""}}):r._e(),r._v(" "),!0===r.formReset?e("span",{staticClass:"sr-only"},[r._v("Wait...")]):r._e()],1)],1)])])],1)],1)],1)],1)],1)],1)},[],!1,null,null,null).exports,h=(e(66),{directives:{focus:{inserted:function(r){r.focus()}}},components:{mdbEdgeHeader:n.y,mdbContainer:n.s,mdbRow:n.P,mdbCol:n.r,mdbCardBody:n.g,mdbCard:n.e,mdbInput:n.C,mdbBtn:n.d,mdbIcon:n.B},props:["programData"],data:function(){return{form:{_id:"",programTrainingProviders:[]},provider:{id:"",name:"",dateRegistered:""},selected:"",formReset:!1,alreadyExist:!1}},mounted:function(){this.loadTrainingProviders()},computed:Object(o.a)({},Object(d.c)({trainingProviders:"program/getTraininProviders",successState:"program/getSuccessState",errorState:"program/getErrorState",programProviderList:"program/getProgramProvider"})),methods:Object(o.a)({},Object(d.b)({init:"program/initProgramProvider",registerTradeProgramProviders:"program/register",updateProgramProviderData:"program/updateProgramProviders",loadProviders:"program/loadTrainingProviders",loadProgramDetails:"program/loadProgramDetails"}),{create:function(){if(!this.selected)return this.$bvModal.msgBoxOk("Training Provider not selected."),!1;this.formReset=!this.formReset,this.addProgramProvider()},getData:function(){this.alreadyExist=!1;var r=new Date;this.provider.id=this.selected.id,this.provider.name=this.selected.name,this.provider.dateRegistered=r},addProgramProvider:function(){var r=this;this.init().then(function(t){return r.checkStatus(t)})},checkStatus:function(r){if(0==r)this.processPostForm();else{var t=this;this.loadProgramDetails(this.programData._id).then(function(r){console.log("process:"+t.programProviderList.programTrainingProviders);for(var i=0;i<t.programProviderList.programTrainingProviders.length;i++){t.programProviderList.programTrainingProviders[i].id==t.selected.id&&(t.alreadyExist=!0)}t.processPutForm()})}},processPostForm:function(){var r=this;return new Promise(function(t,e){r.form._id=r.programData._id,r.form.programTrainingProviders.push(r.provider),t(r.form)}).then(function(form){return r.registerTradeProgramProviders(form)}).then(function(t){return r.resetForm(t)}).catch(function(r){})},processPutForm:function(){var r=this;return new Promise(function(t,e){if(r.alreadyExist)r.formReset=!r.formReset,r.$bvModal.msgBoxOk("Training Provider selected already exist on this program.");else{r.form._id=r.programData._id;for(var i=0;i<r.programProviderList.programTrainingProviders.length;i++){var o=r.programProviderList.programTrainingProviders[i];r.form.programTrainingProviders.push(o)}r.form.programTrainingProviders.push(r.provider),t(r.form)}}).then(function(form){return r.updateProgramProviderData(form)}).then(function(t){return r.resetForm(t)}).catch(function(r){})},loadTrainingProviders:function(){this.loadProviders().then(function(r){})},resetForm:function(r){this.formReset=!this.formReset,console.log("status:"+r),"success"==r?(this.showSuccessMsg(),this.selected=""):"error"==r&&this.showErrorMsg()},showSuccessMsg:function(){this.$bvModal.msgBoxOk("Data was submitted successfully",{title:"GOT IT",size:"sm",buttonSize:"sm",okVariant:"success",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0})},showErrorMsg:function(){this.$bvModal.msgBoxOk("Data fail to submit. Try it again",{title:"Oops! Error Occured",size:"sm",buttonSize:"sm",okVariant:"danger",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0})}})}),P={components:{ProgramView:l,NewProgram:f,NewProgramTrainingProvider:Object(c.a)(h,function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("div",{staticClass:"animated fadeIn"},[e("vue-up"),r._v(" "),e("FlashMessage"),r._v(" "),e("section",{staticStyle:{background:"#ededed","padding-bottom":"100px"}},[e("mdb-edge-header",{staticStyle:{"background-color":"#2BBBAD"}}),r._v(" "),e("mdb-container",{attrs:{"free-bird":""}},[e("mdb-row",[e("mdb-col",{staticClass:"mx-auto float-none",attrs:{md:"8",lg:"7"}},[e("b-link",{staticClass:"card-link text-white",attrs:{href:"#"},on:{click:function(t){return r.$emit("changeComponent",{component:"ProgramView",id:null})}}},[e("mdb-icon",{staticClass:"text-white",attrs:{icon:"arrow-left",size:"lg"}}),r._v("  View All Development Programs")],1),r._v(" "),e("mdb-card",{staticClass:"weather-card"},[e("mdb-card-body",{staticClass:"pb-3"},[e("h2",{staticClass:"h2-responsive"},[e("strong",[r._v("New Training Provider Form")])]),r._v(" "),e("p",{staticClass:"pb-4"},[r._v("Add Provider for the Program")]),r._v(" "),e("div",[e("form",[e("b-form-group",{attrs:{id:"input-group-2",label:"Training Provider:","label-for":"input-2"}},[e("b-form-select",{attrs:{id:"trainingProvider",required:""},on:{change:r.getData},model:{value:r.selected,callback:function(t){r.selected=t},expression:"selected"}},[e("option",{attrs:{disabled:"",value:""}},[r._v("[ Select Training Provider ]")]),r._v(" "),r._l(r.trainingProviders,function(t){return e("option",{key:t.id,domProps:{value:{id:t._id,name:t.fullLegalName}}},[r._v(r._s(t.fullLegalName))])})],2)],1),r._v(" "),e("mdb-btn",{attrs:{color:"primary",disabled:r.formReset},nativeOn:{click:function(t){return t.preventDefault(),r.create()}}},[r._v("Submit\n                               "),!0===r.formReset?e("b-spinner",{attrs:{small:""}}):r._e(),r._v(" "),!0===r.formReset?e("span",{staticClass:"sr-only"},[r._v("Wait...")]):r._e()],1)],1)])])],1)],1)],1)],1)],1)],1)},[],!1,null,null,null).exports},data:function(){return{currentComponent:"ProgramView",currentProgramData:null}},methods:{changeCurrentComponent:function(r){this.currentProgramData=r.data,console.log(r.data),this.currentComponent=r.component}}},C=Object(c.a)(P,function(){var r=this.$createElement,t=this._self._c||r;return t("div",{staticClass:"animated fadeIn"},[t(this.currentComponent,{tag:"component",attrs:{programData:this.currentProgramData},on:{changeComponent:this.changeCurrentComponent}})],1)},[],!1,null,null,null);t.default=C.exports}}]);