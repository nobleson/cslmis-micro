(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1356:function(t,e,o){t.exports=o.p+"img/ce770f6.png"},1395:function(t,e,o){t.exports=o.p+"img/00281d7.png"},1426:function(t,e,o){var content=o(1620);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(17).default)("9e54f60e",content,!0,{sourceMap:!1})},1619:function(t,e,o){"use strict";var r=o(1426);o.n(r).a},1620:function(t,e,o){(t.exports=o(16)(!1)).push([t.i,".signup[data-v-5610c4e5]{margin-top:50px}.bg-primary[data-v-5610c4e5],.primary[data-v-5610c4e5]{background-color:#008751}.id[data-v-5610c4e5]{position:absolute}.ad[data-v-5610c4e5],.ml-1[data-v-5610c4e5],.text-center[data-v-5610c4e5]{color:#fff}",""])},1637:function(t,e,o){"use strict";o.r(e);var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"id"},[e("img",{attrs:{src:o(1395),alt:"Logo",height:"5000",width:"4000"}})])}],n=o(27),c=o(75),l={name:"Login",layout:"auth",data:function(){return{user:{email:"",password:"",isSignIn:!0},formReset:!1}},computed:Object(n.a)({},Object(c.c)({session:"authentication/getSession",userData:"authentication/getUser",loginStatus:"authentication/getResponseStatus"})),methods:Object(n.a)({},Object(c.b)({authenticateUser:"authentication/authenticateUser",setupUser:"authentication/initSetup",fetchUserDataById:"authentication/fetchUserDataById"}),{logIn:function(){var t=this;return this.user.email?this.user.password?(this.formReset=!this.formReset,void this.authenticateUser(this.user).then(function(e){return t.getUserClaims()}).catch(function(e){return t.getStatus(e)})):(this.$bvModal.msgBoxOk("Password is required."),!1):(this.$bvModal.msgBoxOk("Email or Username is required."),!1)},getStatus:function(t){400==this.loginStatus&&(this.formReset=!this.formReset,this.$bvModal.msgBoxOk("Error: The password or email is invalid")),console.log("Error:"+t)},getUserClaims:function(){var t=this;console.log("Logged UID:"+this.session.localId),this.fetchUserDataById(this.session.localId).then(function(e){return t.validate()})},validate:function(){console.log("Logged User Claims:"+JSON.stringify(this.userData.customClaims)),"CORBON Admin"==this.userData.customClaims.portal?(this.formReset=!this.formReset,this.init(),this.$router.push("/cslmis/dashboard")):(this.formReset=!this.formReset,this.$bvModal.msgBoxOk("Unauthorized Access, please contact your administrator"))},init:function(){this.setupUser()}})},d=(o(1619),o(3)),component=Object(d.a)(l,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app flex-row align-items-center"},[t._m(0),t._v(" "),r("div",{staticClass:"container"},[r("b-row",[r("b-col",{attrs:{md:"8"}},[r("h4",{staticClass:"text-center"},[t._v("Construction LMIS Portal")])])],1),t._v(" "),r("b-row",{staticClass:"justify-content-center"},[r("b-col",{attrs:{md:"8"}},[r("b-card-group",[r("b-card",{staticClass:"text-white primary py-5 d-md-down-none",staticStyle:{width:"44%"},attrs:{"no-body":""}},[r("b-card-body",{staticClass:"text-center"},[r("div",[r("img",{attrs:{src:o(1356),alt:"Logo"}})]),t._v(" "),r("h6",{staticClass:"text-white"},[t._v("Brand by")]),t._v(" "),r("h1",[t._v("CORBON")])])],1),t._v(" "),r("b-card",{staticClass:"p-4",attrs:{"no-body":""}},[r("b-card-body",[r("b-form",[r("h1",[t._v("Login")]),t._v(" "),r("p",{staticClass:"text-muted"},[t._v("Sign In to your account")]),t._v(" "),r("b-input-group",{staticClass:"mb-3"},[r("b-input-group-prepend",[r("b-input-group-text",[r("i",{staticClass:"icon-user"})])],1),t._v(" "),r("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Username",autocomplete:"username email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),t._v(" "),r("b-input-group",{staticClass:"mb-4"},[r("b-input-group-prepend",[r("b-input-group-text",[r("i",{staticClass:"icon-lock"})])],1),t._v(" "),r("b-form-input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password",autocomplete:"current-password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),t._v(" "),r("b-row",[r("b-col",{attrs:{cols:"6"}},[r("b-button",{staticClass:"px-4",attrs:{variant:"primary"},on:{click:t.logIn}},[t._v("Login\n                              "),!0===t.formReset?r("b-spinner",{attrs:{small:""}}):t._e(),t._v(" "),!0===t.formReset?r("span",{staticClass:"sr-only"},[t._v("Wait...")]):t._e()],1)],1)],1),t._v(" "),r("b-row",[r("b-col",{staticClass:"signup"},[r("span",{staticClass:"pull-right mt-20"},[t._v("Don't have account yet? "),r("router-link",{attrs:{to:"/register"}},[t._v("SignUp")])],1)])],1)],1)],1)],1)],1)],1)],1),t._v(" "),r("b-row",{staticClass:"justify-content-center"},[r("a",{attrs:{href:"https://admin.cslmis.gov.ng"}},[t._v("Construction LMIS")]),t._v(" "),r("span",{staticClass:"ml-1"},[t._v("© 2019 Admin Portal.")]),t._v(" "),r("span",{staticClass:"ad"},[t._v("   Brand by ")]),t._v(" "),r("a",{attrs:{href:"https://corbon.gov.ng"}},[t._v("    CORBON ")])])],1)])},r,!1,null,"5610c4e5",null);e.default=component.exports}}]);