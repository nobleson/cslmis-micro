(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1325:function(t,e,r){var o=r(30),n=r(31),l=r(55),d=/"/g,c=function(t,e,r,o){var n=String(l(t)),c="<"+e;return""!==r&&(c+=" "+r+'="'+String(o).replace(d,"&quot;")+'"'),c+">"+n+"</"+e+">"};t.exports=function(t,e){var r={};r[t]=e(c),o(o.P+o.F*n(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",r)}},1327:function(t,e,r){"use strict";var o=r(74),n=r(443),l=r(54);t.exports=function(t){for(var e=o(this),r=l(e.length),d=arguments.length,c=n(d>1?arguments[1]:void 0,r),m=d>2?arguments[2]:void 0,f=void 0===m?r:n(m,r);f>c;)e[c++]=t;return e}},1328:function(t,e,r){"use strict";var o=r(35),n=r(87);t.exports=function(object,t,e){t in object?o.f(object,t,n(0,e)):object[t]=e}},1329:function(t,e,r){"use strict";r(1325)("fixed",function(t){return function(){return t(this,"tt","","")}})},1330:function(t,e,r){"use strict";var o=r(65),n=r(30),l=r(74),d=r(448),c=r(444),m=r(54),f=r(1328),h=r(445);n(n.S+n.F*!r(446)(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,n,v,C=l(t),x="function"==typeof this?this:Array,_=arguments.length,w=_>1?arguments[1]:void 0,y=void 0!==w,k=0,U=h(C);if(y&&(w=o(w,_>2?arguments[2]:void 0,2)),null==U||x==Array&&c(U))for(r=new x(e=m(C.length));e>k;k++)f(r,k,y?w(C[k],k):C[k]);else for(v=U.call(C),r=new x;!(n=v.next()).done;k++)f(r,k,y?d(v,w,[n.value,k],!0):n.value);return r.length=k,r}})},1331:function(t,e,r){var o=r(30);o(o.P,"Array",{fill:r(1327)}),r(139)("fill")},1332:function(t,e,r){"use strict";var o=r(30),n=r(54),l=r(197),d="".endsWith;o(o.P+o.F*r(198)("endsWith"),"String",{endsWith:function(t){var e=l(this,t,"endsWith"),r=arguments.length>1?arguments[1]:void 0,o=n(e.length),c=void 0===r?o:Math.min(n(r),o),m=String(t);return d?d.call(e,m,c):e.slice(c-m.length,c)===m}})},1333:function(t,e,r){"use strict";var o=r(30),n=r(447)(6),l="findIndex",d=!0;l in[]&&Array(1)[l](function(){d=!1}),o(o.P+o.F*d,"Array",{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),r(139)(l)},1334:function(t,e,r){"use strict";r(1325)("bold",function(t){return function(){return t(this,"b","","")}})},1416:function(t,e,r){var content=r(1599);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(18).default)("eb3f6812",content,!0,{sourceMap:!1})},1417:function(t,e,r){var content=r(1601);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(18).default)("bb0e224e",content,!0,{sourceMap:!1})},1418:function(t,e,r){var content=r(1603);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(18).default)("207f6c14",content,!0,{sourceMap:!1})},1598:function(t,e,r){"use strict";var o=r(1416);r.n(o).a},1599:function(t,e,r){(t.exports=r(17)(!1)).push([t.i,".form-elegant .font-small[data-v-76fcef08]{font-size:.8rem}.form-elegant .z-depth-1a[data-v-76fcef08]{box-shadow:0 2px 5px 0 rgba(55,161,255,.26),0 4px 12px 0 rgba(121,155,254,.25)}.form-elegant .btn[data-v-76fcef08]:hover,.form-elegant .z-depth-1-half[data-v-76fcef08]{box-shadow:0 5px 11px 0 rgba(85,182,255,.28),0 4px 15px 0 rgba(36,133,255,.15)}.form-elegant .modal-header[data-v-76fcef08]{border-bottom:none}.modal-dialog .form-elegant .btn .fab[data-v-76fcef08]{color:#2196f3!important}.form-elegant .modal-body[data-v-76fcef08],.form-elegant .modal-footer[data-v-76fcef08]{font-weight:400}",""])},1600:function(t,e,r){"use strict";var o=r(1417);r.n(o).a},1601:function(t,e,r){(t.exports=r(17)(!1)).push([t.i,'h4[data-v-9b9f6e1a]{font-weight:700}.collapse[data-v-9b9f6e1a]{transition:height .3s}.collapse-item[data-v-9b9f6e1a]{transition:all .5s}.gradient-card[data-v-9b9f6e1a]{transition:.5s ease-in-out}.gradient-card.show[data-v-9b9f6e1a]{margin-top:20px}.gradient-card .card-image[data-v-9b9f6e1a]{display:inline-block;width:100%;transition:.5s ease-in-out}.gradient-card.show .card-image[data-v-9b9f6e1a]{width:112px;height:112px;margin-left:20px;margin-top:-20px}.gradient-card .card-body[data-v-9b9f6e1a]{padding:0 1.25rem}.collapse-content .fas.fa-heart[data-v-9b9f6e1a]:hover{color:#f44336!important}.collapse-content .fas.fa-share-alt[data-v-9b9f6e1a]:hover{color:#0d47a1!important}.card.weather-card .collapse-content a.collapsed[data-v-9b9f6e1a]:after{content:"Expand"}.card.weather-card .collapse-content a[data-v-9b9f6e1a]:not(.collapsed):after{content:"Collapse"}',""])},1602:function(t,e,r){"use strict";var o=r(1418);r.n(o).a},1603:function(t,e,r){(t.exports=r(17)(!1)).push([t.i,'.card.chart-card .classic-tabs .nav.tabs-white li a{color:#757575;font-weight:500}.card.chart-card .classic-tabs .nav.tabs-white li a.active{color:#673ab7}.myMap{position:absolute;top:10px;left:25%;z-index:5;background-color:#fff;border:1px solid #999;text-align:center;font-family:Roboto,"sans-serif";line-height:30px;padding:5px 5px 5px 10px}',""])},1616:function(t,e,r){"use strict";r.r(e);r(19),r(200);var o=r(27),n=(r(141),r(1326)),l=r(75),d={components:{mdbTab:n.M,mdbTabItem:n.O,mdbTabContent:n.N,mdbTabPane:n.P,mdbLineChart:n.y,mdbDatatable:n.r,mdbTooltip:n.T,mdbGoogleMap:n.u,mdbContainer:n.q,mdbRow:n.J,mdbCol:n.p,mdbCard:n.c,mdbCardImage:n.i,mdbCardHeader:n.h,mdbEdgeHeader:n.s,mdbCardBody:n.e,mdbCardTitle:n.k,mdbCardText:n.j,mdbCardFooter:n.f,mdbCardUp:n.l,mdbCardAvatar:n.d,mdbCardGroup:n.g,mdbBtn:n.b,mdbView:n.U,mdbMask:n.z,mdbStretchedLink:n.L,mdbIcon:n.v,mdbFlippingCard:n.mdbFlippingCard,mdbAvatar:n.mdbAvatar,mdbTbl:n.R,mdbChip:n.mdbChip,mdbTabs:n.Q,mdbSelect:n.mdbSelect,mdbJumbotron:n.x,mdbCarousel:n.m,mdbCarouselItem:n.n,mdbProgress:n.I,mdbModal:n.D,mdbModalHeader:n.G,mdbModalTitle:n.H,mdbModalBody:n.E,mdbModalFooter:n.F,mdbInput:n.w,mdbTextarea:n.S},data:function(){return{form:{email:"",emailVerified:!1,phoneNumber:"",password:"c-lmis",displayName:"",photoURL:"https://firebasestorage.googleapis.com/v0/b/cslmis-admin-bucket/o/profile%2FAdmin%201.png?alt=media&token=76b1edbe-4aee-4074-bb79-0ffd84dac37e",disabled:!1},tabIndex:0,dataSet:{columns:[{label:"Username",field:"displayName",sort:"asc"},{label:"Email Address",field:"email",sort:"asc"}],rows:[]},users:[],info:!1,formReset:!1}},mounted:function(){this.create()},computed:Object(o.a)({},Object(l.c)({listUsersResult:"user/getUsers",isContentLoading:"user/getLoaderStatus",adminUser:"user/getUser",successState:"user/getSuccessState",errorState:"user/getErrorState"}),{processUsers:function(){return this.listUsersResult.users},processTableData:function(){return this.dataSet.rows=this.listUsersResult.users,this.dataSet}}),methods:Object(o.a)({},Object(l.b)({createUser:"user/createUser",loadUsers:"user/loadUsers",fetchUserDataByEmail:"user/fetchUserDataByEmail"}),{register:function(){var t=this;return this.form.displayName?this.form.email?this.form.phoneNumber?(this.formReset=!this.formReset,this.form.phoneNumber="+234"+this.form.phoneNumber.replace(/^0+/,""),void this.createUser(this.form).then(function(t){console.log("User registered")}).catch(console.error).finally(function(e){return t.resetForm()})):(this.$bvModal.msgBoxOk("A valid phone number is required."),!1):(this.$bvModal.msgBoxOk("A valid email address is required."),!1):(this.$bvModal.msgBoxOk("Username or Display name is required."),!1)},create:function(){this.loadUsers().then(function(t){console.log("Users loaded")})},loadUser:function(t){this.fetchUserDataByEmail(t).then(function(t){console.log("User loaded")})},resetForm:function(){this.formReset=!this.formReset},linkClass:function(t){return this.tabIndex===t?["bg-primary","text-light"]:["bg-light","text-info"]}})},c=(r(1598),r(3)),m=Object(c.a)(d,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-row",[r("b-col",{staticClass:"pb-3 pl-auto",attrs:{"align-self":"end",cols:"12"}},[r("mdb-btn",{attrs:{size:"lg",color:"primary"},nativeOn:{click:function(e){t.info=!0}}},[t._v(" New User "),r("mdb-icon",{staticClass:"text-white primary-color-dark",attrs:{icon:"user"}})],1),t._v(" "),r("hr")],1),t._v(" "),r("mdb-modal",{staticStyle:{"margin-top":"100px"},attrs:{removeBackdrop:"",show:t.info,info:""},on:{close:function(e){t.info=!1}}},[r("mdb-modal-header",[r("mdb-modal-title",[t._v("Register")])],1),t._v(" "),r("mdb-modal-body",[t.successState?r("b-alert",{attrs:{show:"",variant:"success"}},[t._v("User Registered Successfully")]):t._e(),t._v(" "),t.errorState?r("b-alert",{attrs:{show:"",variant:"danger"}},[t._v("User Fail to Register. Try again")]):t._e()],1),t._v(" "),r("mdb-modal-body",{staticClass:"mx-3 grey-text"},[r("mdb-input",{staticClass:"mb-5",attrs:{label:"Username",icon:"user"},model:{value:t.form.displayName,callback:function(e){t.$set(t.form,"displayName",e)},expression:"form.displayName"}}),t._v(" "),r("mdb-input",{staticClass:"mb-5",attrs:{label:"Email Address",icon:"envelope",type:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),r("mdb-input",{attrs:{label:"Phone Number",icon:"phone",type:"text"},model:{value:t.form.phoneNumber,callback:function(e){t.$set(t.form,"phoneNumber",e)},expression:"form.phoneNumber"}})],1),t._v(" "),r("mdb-modal-footer",{attrs:{center:""}},[r("mdb-btn",{attrs:{color:"primary",disabled:t.formReset},nativeOn:{click:function(e){return e.preventDefault(),t.register()}}},[t._v("Submit\r\n                  "),!0===t.formReset?r("b-spinner",{attrs:{small:""}}):t._e(),t._v(" "),!0===t.formReset?r("span",{staticClass:"sr-only"},[t._v("Wait...")]):t._e()],1)],1)],1)],1),t._v(" "),r("div",{staticClass:"classic-tabs"},[r("mdb-tabs",{staticClass:"mb-5",attrs:{active:0,tabs:"",color:"primary",links:[{text:"Card View",icon:"square",bigIcon:!0},{text:"Table View",icon:"table",bigIcon:!0}],"transition-duration":.5,"transition-style":"linear"}},[r("template",{slot:"Card View"},[r("mdb-container",[r("b-row",t._l(t.processUsers,function(e){return r("b-col",{key:e.id,attrs:{cols:"4"}},[r("div",[r("div",{staticClass:"card card-cascade"},[r("div",{staticClass:"view view-cascade gradient-card-header blue-gradient"},[r("h4",{staticClass:"card-header-title mb-3"},[t._v(t._s(e.displayName))]),t._v(" "),r("p",{staticClass:"card-header-subtitle mb-0"})]),t._v(" "),r("div",{staticClass:"card-body card-body-cascade text-center"},[r("p",{staticClass:"card-text"},[t._v(t._s(e.email))]),t._v(" "),r("b-button",{attrs:{variant:"primary"},on:{click:function(r){return t.$emit("changeComponent",{component:"UserProfile",data:e})}}},[t._v("Manage")])],1)])])])}),1),t._v(" "),t.isContentLoading?r("div",{staticClass:"text-center"},[r("b-spinner",{attrs:{variant:"primary",label:"Text Centered"}})],1):t._e()],1)],1),t._v(" "),r("template",{slot:"Table View"},[r("mdb-container",[r("mdb-row",[r("mdb-col",{attrs:{md:"12"}},[r("mdb-datatable",{attrs:{data:t.processTableData,striped:"",bordered:"",materialInputs:""}})],1)],1)],1)],1)],2)],1)],1)},[],!1,null,"76fcef08",null).exports,f=(r(201),r(199)),h=r(1319),v=r(1320),C=r(1321),x={components:{mdbTooltip:n.T,mdbGoogleMap:n.u,mdbContainer:n.q,mdbRow:n.J,mdbCol:n.p,mdbCard:n.c,mdbCardImage:n.i,mdbCardHeader:n.h,mdbEdgeHeader:n.s,mdbCardBody:n.e,mdbCardTitle:n.k,mdbCardText:n.j,mdbCardFooter:n.f,mdbCardUp:n.l,mdbCardAvatar:n.d,mdbCardGroup:n.g,mdbBtn:n.b,mdbView:n.U,mdbMask:n.z,mdbStretchedLink:n.L,mdbIcon:n.v,mdbFlippingCard:n.mdbFlippingCard,mdbAvatar:n.mdbAvatar,mdbTbl:n.R,mdbProgress:n.I,LMap:h.a,LTileLayer:v.a,LMarker:C.a},props:["userData"],data:function(){return{show1:!1,show2:!1,height1:"2.65rem",zoom:15,markers:[{lat:45.508,lng:-73.587}],center:{lat:45.508,lng:-73.587},places:["Lagos"],currentPlace:null}},mounted:function(){this.geolocate()},methods:{toggle1:function(){this.show1=!this.show1,this.show1?this.height1=this.fullHeight1:this.height1="2.65rem"},beforeEnter:function(t){t.style.height="0",t.style.opacity="0"},enter:function(t){t.style.height=t.scrollHeight+"px",t.style.opacity="1"},beforeLeave:function(t){t.style.height=t.scrollHeight+"px",t.style.opacity="1"},leave:function(t){t.style.height="0",t.style.opacity="0"},away1:function(){this.gradient1=!1},away2:function(){this.gradient2=!1},away3:function(){this.gradient3=!1},away4:function(){this.gradient4=!1},setPlace:function(t){this.currentPlace=t},addMarker:function(){if(this.currentPlace){var marker={lat:this.currentPlace.geometry.location.lat(),lng:this.currentPlace.geometry.location.lng()};this.markers.push({position:marker}),this.places.push(this.currentPlace),this.center=marker,this.currentPlace=null}},geolocate:function(){var t=this;navigator.geolocation.getCurrentPosition(function(e){t.center={lat:e.coords.latitude,lng:e.coords.longitude}})}},mixins:[f.mixin]},_=(r(1600),r(1602),{components:{UserView:m,UserProfile:Object(c.a)(x,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticStyle:{background:"#ededed","padding-bottom":"100px"}},[r("mdb-edge-header",{staticStyle:{background:"#2BBBAD"}}),t._v(" "),r("mdb-container",{attrs:{"free-bird":""}},[r("mdb-row",[r("mdb-col",{staticClass:"mx-auto float-none",attrs:{md:"8",lg:"7"}},[r("b-link",{staticClass:"card-link text-white",attrs:{href:"#"},on:{click:function(e){return t.$emit("changeComponent",{component:"UserView",id:null})}}},[r("mdb-icon",{staticClass:"text-white",attrs:{icon:"arrow-left",size:"lg"}}),t._v(" View All Users")],1),t._v(" "),r("mdb-card",{staticClass:"weather-card"},[r("mdb-card-body",{staticClass:"pb-3"},[r("div",{staticClass:"d-flex flex-row"},[null==t.userData.photoURL?r("img",{staticClass:"rounded-circle mr-3",staticStyle:{"max-height":"100px","max-width":"150px"},attrs:{src:"https://firebasestorage.googleapis.com/v0/b/cslmis-admin-bucket/o/profile%2FAdmin%201.png?alt=media&token=76b1edbe-4aee-4074-bb79-0ffd84dac37e",height:"120px",width:"150px",alt:"avatar"}}):r("img",{staticClass:"rounded-circle mr-3",staticStyle:{"max-height":"100px","max-width":"150px"},attrs:{src:t.userData.photoURL,height:"120px",width:"150px",alt:"avatar"}}),t._v(" "),r("div",[r("mdb-card-title",{staticClass:"font-weight-bold mb-2"},[t._v(t._s(t.userData.displayName))]),t._v(" "),r("mdb-card-text",[r("mdb-icon",{staticClass:"pr-2",attrs:{icon:"clock"}}),r("timeago",{attrs:{datetime:t.userData.metadata.creationTime}})],1)],1)]),t._v(" "),r("mdb-card-title",{staticClass:"font-weight-bold"},[t._v(t._s(t.userData.customClaims.portal))]),t._v(" "),r("mdb-card-text",[r("b-button",[t._v("Block User")])],1),t._v(" "),r("mdb-tooltip",{attrs:{trigger:"hover"}},[r("div",{staticClass:"tooltip"},[t._v("Website")]),t._v(" "),r("b-link",{staticClass:"float-right p-1 my-1",attrs:{href:"#",target:"_blank"}},[t._v("More Actions")])],1),t._v(" "),r("div",{staticClass:"collapse-content"},[r("transition",{on:{"before-enter":t.beforeEnter,enter:t.enter,"before-leave":t.beforeLeave,leave:t.leave}},[t.show2?r("div",{staticClass:"collapse-item"},[r("mdb-tbl",{staticClass:"mb-0",attrs:{borderless:"",sm:""}},[r("tbody",[r("tr",[r("td",{staticClass:"font-weight-normal align-middle"},[t._v("Telephone Number")]),t._v(" "),r("td",{staticClass:"float-right font-weight-normal"},[r("p",{staticClass:"mb-1"},[t._v(t._s(t.userData.phoneNumber))])]),t._v(" "),r("td",{staticClass:"float-right mr-3"},[r("mdb-icon",{staticClass:"amber-text",attrs:{icon:"phone",size:"lg"}})],1)]),t._v(" "),r("tr",[r("td",{staticClass:"font-weight-normal align-middle"},[t._v("Email Address")]),t._v(" "),r("td",{staticClass:"float-right font-weight-normal"},[r("p",{staticClass:"mb-1"},[t._v(t._s(t.userData.email))])]),t._v(" "),r("td",{staticClass:"float-right mr-3"},[r("mdb-icon",{staticClass:"text-info",attrs:{icon:"envelope",size:"lg"}})],1)]),t._v(" "),r("tr",[r("td",{staticClass:"font-weight-normal align-middle"},[t._v("Email Verified")]),t._v(" "),r("td",{staticClass:"float-right font-weight-normal"},[r("p",{staticClass:"mb-1"},[t._v(t._s(t.userData.emailVerified))])]),t._v(" "),r("td",{staticClass:"float-right mr-3"},[r("mdb-icon",{staticClass:"amber-text",attrs:{icon:"check-circle",size:"lg"}})],1)]),t._v(" "),r("tr",[r("td",{staticClass:"font-weight-normal align-middle"},[t._v("User Role")]),t._v(" "),r("td",{staticClass:"float-right font-weight-normal"},[!1===t.userData.customClaims.admin?r("p",{staticClass:"mb-1"},[t._v("Data Clerk")]):r("p",{staticClass:"mb-1"},[t._v("Admin")])]),t._v(" "),r("td",{staticClass:"float-right mr-3"},[r("mdb-icon",{staticClass:"amber-text",attrs:{icon:"user",size:"lg"}})],1)]),t._v(" "),r("tr",[r("td",{staticClass:"font-weight-normal align-middle"},[t._v("User Status")]),t._v(" "),r("td",{staticClass:"float-right font-weight-normal"},["0"===t.userData.customClaims.loginStatus?r("p",{staticClass:"mb-1"},[t._v("Unblocked")]):r("p",{staticClass:"mb-1"},[t._v("Blocked")])]),t._v(" "),r("td",{staticClass:"float-right mr-3"},[r("mdb-icon",{staticClass:"amber-text",attrs:{icon:"ban",size:"lg"}})],1)]),t._v(" "),r("tr",[r("td",{staticClass:"font-weight-normal align-middle"},[t._v("Last Login Time")]),t._v(" "),r("td",{staticClass:"float-right font-weight-normal"},[null===t.userData.metadata.lastSignInTime?r("p"):r("p",{staticClass:"mb-1"},[r("timeago",{attrs:{datetime:t.userData.metadata.lastSignInTime}})],1)]),t._v(" "),r("td",{staticClass:"float-right mr-3"},[r("mdb-icon",{staticClass:"amber-text",attrs:{icon:"hotel",size:"lg"}})],1)])])])],1):t._e()]),t._v(" "),r("hr"),t._v(" "),r("mdb-btn",{class:["p-1 my-1 mr-0 deep-purple-text",!t.show2&&"collapsed"],attrs:{tag:"a",flat:"",darkWaves:"","aria-expanded":"false","aria-controls":"collapseExample"},nativeOn:{click:function(e){t.show2=!t.show2}}})],1)],1)],1)],1)],1)],1)],1)},[],!1,null,"9b9f6e1a",null).exports},data:function(){return{currentComponent:"UserView",currentUserData:null}},methods:{changeCurrentComponent:function(t){this.currentUserData=t.data,console.log(t.data),this.currentComponent=t.component}}}),w=Object(c.a)(_,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"animated fadeIn"},[e(this.currentComponent,{tag:"component",attrs:{userData:this.currentUserData},on:{changeComponent:this.changeCurrentComponent}})],1)},[],!1,null,null,null);e.default=w.exports}}]);