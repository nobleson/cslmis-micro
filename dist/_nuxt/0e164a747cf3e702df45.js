(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1390:function(e,t,r){var content=r(1420);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(8).default)("50ad7c4d",content,!0,{sourceMap:!1})},1419:function(e,t,r){"use strict";var n=r(1390);r.n(n).a},1420:function(e,t,r){(e.exports=r(7)(!1)).push([e.i,"small[data-v-6779ada1]{font-weight:300}",""])},1432:function(e,t,r){"use strict";r.r(t);var n=r(72),o=r(17),d=(r(1376),r(37)),l={components:{mdbTab:d.Z,mdbTabItem:d.bb,mdbTabContent:d.ab,mdbTabPane:d.cb,mdbLineChart:d.F,mdbDatatable:d.t,mdbTooltip:d.fb,mdbGoogleMap:d.B,mdbContainer:d.s,mdbRow:d.W,mdbCol:d.r,mdbCard:d.e,mdbCardImage:d.k,mdbCardHeader:d.j,mdbEdgeHeader:d.z,mdbCardBody:d.g,mdbCardTitle:d.m,mdbCardText:d.l,mdbCardFooter:d.h,mdbCardUp:d.n,mdbCardAvatar:d.f,mdbCardGroup:d.i,mdbBtn:d.d,mdbView:d.gb,mdbMask:d.I,mdbStretchedLink:d.Y,mdbIcon:d.C,mdbFlippingCard:d.mdbFlippingCard,mdbAvatar:d.mdbAvatar,mdbTbl:d.eb,mdbChip:d.mdbChip,mdbTabs:d.db,mdbSelect:d.mdbSelect,mdbJumbotron:d.E,mdbCarousel:d.o,mdbCarouselItem:d.p,mdbProgress:d.U},data:function(){return{pillsActive:0,verticalWithin:0,traineeLis:[],dataObject:{},tabIndex:0,dataSet:{columns:[{label:"ID Number",field:"idNumber",sort:"asc"},{label:"First Name",field:"firstName",sort:"asc"},{label:"Middle Name",field:"middleName",sort:"asc"},{label:"Last Name",field:"lastName",sort:"asc"},{label:"Gender",field:"gender",sort:"asc"},{label:"Phone Number",field:"phoneNumber",sort:"asc"},{label:"Date Registered",field:"dateRegistered",sort:"asc"}],rows:[]}}},mounted:function(){this.create()},computed:Object(o.a)({},Object(n.c)({trainers:"trainer/getTrainers",isContentLoading:"trainer/getLoaderStatus"}),{processTrainers:function(){if(void 0!==this.trainers[0]||null!=this.trainers[0])return this.dataObject=this.trainers[0],this.trainerList=this.dataObject.trainerList,this.trainerList=this.dataObject.trainerList},processTableData:function(){return Array.isArray(this.trainers)?(this.dataObject=this.trainers[0],this.dataSet.rows=this.dataObject.trainerList,this.dataSet):(this.dataSet.rows=this.trainers.trainerList,this.dataSet)}}),methods:Object(o.a)({},Object(n.b)({loadTrainers:"trainer/loadTrainers"}),{create:function(){this.loadTrainers().then(function(e){console.log("successfully load")}).catch(function(e){console.log(e.message)})},linkClass:function(e){return this.tabIndex===e?["bg-primary","text-light"]:["bg-light","text-info"]}})},m=r(0),c=Object(m.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-row",[r("b-col",{staticClass:"pb-3 pl-auto",attrs:{"align-self":"end",cols:"12"}},[r("mdb-btn",{staticClass:"text-white primary-color-dark",attrs:{size:"lg",color:"primary"},on:{click:function(t){return e.$emit("changeComponent",{component:"NewTrainers",id:null})}}},[e._v("Create New")]),e._v(" "),r("hr")],1),e._v(" "),r("hr")],1),e._v(" "),r("mdb-row",[r("mdb-col",{staticClass:"m-5",attrs:{cols:"12"}},[r("mdb-tab",{attrs:{tabs:"",color:"primary",justify:""}},[r("mdb-tab-item",{attrs:{icon:"square",active:0==e.pillsActive},nativeOn:{click:function(t){t.preventDefault(),e.pillsActive=0}}},[e._v("Card View")]),e._v(" "),r("mdb-tab-item",{attrs:{icon:"table",active:1==e.pillsActive},nativeOn:{click:function(t){t.preventDefault(),e.pillsActive=1}}},[e._v("Table View")])],1),e._v(" "),r("mdb-tab-content",[0==e.pillsActive?r("mdb-tab-pane",{key:"show1",staticClass:"fade"},[r("mdb-row",e._l(e.processTrainers,function(body){return r("b-col",{key:body.id,attrs:{cols:"3"}},[r("div",[r("mdb-card",{attrs:{wide:""}},[r("mdb-card-up",{staticStyle:{"background-color":"#2BBBAD"}}),e._v(" "),r("mdb-card-avatar",{staticClass:"mx-auto",attrs:{color:"white"}},[r("img",{staticClass:"rounded-circle mr-3",staticStyle:{"min-height":"170px, min-width: 150px"},attrs:{src:body.logo}})]),e._v(" "),r("mdb-card-body",{staticClass:"text-center pb-0",attrs:{cascade:""}},[r("mdb-card-title",[r("strong",[e._v(e._s(body.firstName)+" "+e._s(body.middleName)+" "+e._s(body.lastName))])]),e._v(" "),r("h5",{staticClass:"blue-text"},[r("strong",[e._v(e._s(body.idNumber))])]),e._v(" "),r("mdb-card-text",[e._v(e._s(body.residentialAddress))])],1)],1)],1)])}),1),e._v(" "),e.isContentLoading?r("div",{staticClass:"text-center"},[r("b-spinner",{attrs:{variant:"primary",label:"Text Centered"}})],1):e._e()],1):e._e(),e._v(" "),1==e.pillsActive?r("mdb-tab-pane",{key:"show2",staticClass:"fade",staticStyle:{"min-height":"700px","overflow-y":"auto"}},[r("mdb-card",[r("mdb-tbl",{staticStyle:{"overflow-y":"auto","overflow-x":"hidden"}},[r("mdb-datatable",{attrs:{data:e.processTableData,striped:"",bordered:"",materialInputs:""}})],1)],1)],1):e._e()],1)],1)],1)],1)},[],!1,null,null,null).exports,h=Object(m.a)({},void 0,void 0,!1,null,null,null).exports,f=(r(65),r(1377)),v=r.n(f),F=r(1375),C=r.n(F),_=r(1384);r(1392);!_.apps.length&&_.initializeApp({apiKey:"AIzaSyA73Wdeedk01ZoL-oWX08r5UxWing28knM",authDomain:"cslmis-admin.firebaseapp.com",databaseURL:"https://cslmis-admin.firebaseio.com",projectId:"cslmis-admin",storageBucket:"gs://cslmis-admin-bucket",messagingSenderId:"263391859932",appId:"1:263391859932:web:4a6a7871600a3acd"});var N={components:{mdbEdgeHeader:d.z,mdbContainer:d.s,mdbRow:d.W,mdbCol:d.r,mdbCardBody:d.g,mdbInput:d.D,mdbBtn:d.d,mdbIcon:d.C,mdbCard:d.e,datepicker:C.a,mdbListGroup:d.G,mdbListGroupItem:d.H,mdbBadge:d.b,mdbModal:d.J,mdbModalHeader:d.M,mdbModalTitle:d.N,mdbModalBody:d.K,mdbModalFooter:d.L},directives:{focus:{inserted:function(e){e.focus()}}},data:function(){return{login:!1,trainerForm:{idNumber:"",firstName:"",middleName:"",lastName:"",gender:"",tradeSpecilisation:"",highestQualification:"",residentialAddress:"",emailAddress:"",phoneNumber:"",photo:null,dateRegistered:null},form:{_id:"",trainerList:[]},resultURL:"",trainerFormReset:!1,spinner:"0"}},computed:Object(o.a)({},Object(n.c)({successState:"trainer/getSuccessState",errorState:"trainer/getErrorState"})),methods:Object(o.a)({},Object(n.b)({registerTrainer:"trainer/registerTrainer"}),{create:function(){var e=this;if(!this.trainerForm.idNumber)return this.$bvModal.msgBoxOk("First Name is required."),!1;if(!this.trainerForm.firstName)return this.$bvModal.msgBoxOk("First Name is required."),!1;if(!this.trainerForm.middleName)return this.$bvModal.msgBoxOk("Middle Name is required."),!1;if(!this.trainerForm.lastName)return this.$bvModal.msgBoxOk("Last Name is required."),!1;if(!this.trainerForm.gender)return this.$bvModal.msgBoxOk("Gender is required."),!1;if(!this.trainerForm.tradeSpecilisation)return this.$bvModal.msgBoxOk("Residential Address is required."),!1;if(!this.trainerForm.residentialAddress)return this.$bvModal.msgBoxOk("Residential Address is required."),!1;if(!this.trainerForm.highestQualification)return this.$bvModal.msgBoxOk("Highest Qualification is required."),!1;if(!this.trainerForm.emailAddress)return this.$bvModal.msgBoxOk("E-mail address is required."),!1;if(!this.trainerForm.phoneNumber)return this.$bvModal.msgBoxOk("Phone number is required."),!1;this.trainerFormReset=!this.trainerFormReset;var t=v()(),r=this.image.name||"",n={contentType:this.image.type},o=r.slice(r.lastIndexOf("."));_.app().storage().ref("profile/"+t+"."+o).put(this.image,n).then(function(e){return e.ref.getDownloadURL()}).then(function(t){return e.saveProfile(t)}).catch(function(e){})},resetForm:function(e){"success"==e?(this.showSuccessMsg(),this.trainerForm.idNumber=this.trainerForm.firstName=this.trainerForm.middleName=this.trainerForm.lastName=this.trainerForm.gender=this.trainerForm.tradeSpecilisation=this.trainerForm.residentialAddress=this.trainerForm.highestQualification=this.trainerForm.residentialAddress=this.trainerForm.emailAddress=this.trainerForm.emailAddress=this.trainerForm.phoneNumber=this.resultURL="",this.trainerFormReset=!this.trainerFormReset):"error"==e&&showErrorMsg()},showSuccessMsg:function(){this.$bvModal.msgBoxOk("Data was submitted successfully",{title:"GOT IT",size:"sm",buttonSize:"sm",okVariant:"success",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0})},showErrorMsg:function(){this.$bvModal.msgBoxOk("Data fail to submit. Try it again",{title:"Oops! Error Occured",size:"sm",buttonSize:"sm",okVariant:"danger",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0})},onPickFile:function(){this.$refs.fileInput.click()},onFilePicked:function(e){var t=this,r=e.target.files;r[0].name.lastIndexOf(".")<=0&&alert("please enter a valid file");var n=new FileReader;n.addEventListener("load",function(){t.resultURL=n.result}),n.readAsDataURL(r[0]),this.image=r[0]},saveProfile:function(e){var t=this,r=new Date;return this.trainerForm.dateRegistered=r,this.trainerForm.photo=e,console.log("Photo URL:"+this.trainerForm.photo),this.form._id=localStorage.getItem("centerId"),this.form.trainerList.push(this.trainerForm),this.registerTrainer(this.form).then(function(e){return t.resetForm(e)})}})},k=(r(1419),{components:{TrainersView:c,TrainersProfile:h,NewTrainers:Object(m.a)(N,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"animated fadeIn"},[r("section",{staticStyle:{background:"#ededed","padding-bottom":"100px"}},[r("mdb-edge-header",{staticStyle:{"background-color":"#00c851"}}),e._v(" "),r("mdb-container",{attrs:{"free-bird":""}},[r("mdb-row",[r("mdb-col",{staticClass:"mx-auto float-none",attrs:{md:"8",lg:"7"}},[r("b-link",{staticClass:"card-link text-white",attrs:{href:"#"},on:{click:function(t){return e.$emit("changeComponent",{component:"TrainersView",id:null})}}},[r("mdb-icon",{staticClass:"text-white",attrs:{icon:"arrow-left",size:"lg"}}),e._v("  View All Trainers")],1),e._v(" "),r("mdb-card",{staticClass:"weather-card"},[r("mdb-card-body",{staticClass:"pb-3"},[e.successState?r("b-alert",{attrs:{show:"",variant:"success"}},[e._v("Trainer created successfully")]):e._e(),e._v(" "),e.errorState?r("b-alert",{attrs:{show:"",variant:"danger"}},[e._v("Trainer  Fail to Create. Try again")]):e._e(),e._v(" "),r("h2",{staticClass:"h2-responsive"},[r("strong",[e._v("New Trainer Form")])]),e._v(" "),r("p",{staticClass:"pb-4"},[e._v("Create Trainer")]),e._v(" "),r("form",[r("mdb-input",{attrs:{label:"Trainer Id Number"},model:{value:e.trainerForm.idNumber,callback:function(t){e.$set(e.trainerForm,"idNumber",t)},expression:"trainerForm.idNumber"}}),e._v(" "),r("mdb-input",{attrs:{label:"First Name"},model:{value:e.trainerForm.firstName,callback:function(t){e.$set(e.trainerForm,"firstName",t)},expression:"trainerForm.firstName"}}),e._v(" "),r("mdb-input",{attrs:{label:"Middle Name"},model:{value:e.trainerForm.middleName,callback:function(t){e.$set(e.trainerForm,"middleName",t)},expression:"trainerForm.middleName"}}),e._v(" "),r("mdb-input",{attrs:{label:"Last Name"},model:{value:e.trainerForm.lastName,callback:function(t){e.$set(e.trainerForm,"lastName",t)},expression:"trainerForm.lastName"}}),e._v(" "),r("mdb-input",{attrs:{label:"Gender"},model:{value:e.trainerForm.gender,callback:function(t){e.$set(e.trainerForm,"gender",t)},expression:"trainerForm.gender"}}),e._v(" "),r("mdb-input",{attrs:{label:"Trade Specialisation"},model:{value:e.trainerForm.tradeSpecilisation,callback:function(t){e.$set(e.trainerForm,"tradeSpecilisation",t)},expression:"trainerForm.tradeSpecilisation"}}),e._v(" "),r("mdb-input",{attrs:{label:"Highest Qualification"},model:{value:e.trainerForm.highestQualification,callback:function(t){e.$set(e.trainerForm,"highestQualification",t)},expression:"trainerForm.highestQualification"}}),e._v(" "),r("mdb-input",{attrs:{label:"Residential Address"},model:{value:e.trainerForm.residentialAddress,callback:function(t){e.$set(e.trainerForm,"residentialAddress",t)},expression:"trainerForm.residentialAddress"}}),e._v(" "),r("mdb-input",{attrs:{label:"E-mail Address"},model:{value:e.trainerForm.emailAddress,callback:function(t){e.$set(e.trainerForm,"emailAddress",t)},expression:"trainerForm.emailAddress"}}),e._v(" "),r("mdb-input",{attrs:{label:"Phone Number"},model:{value:e.trainerForm.phoneNumber,callback:function(t){e.$set(e.trainerForm,"phoneNumber",t)},expression:"trainerForm.phoneNumber"}}),e._v(" "),r("b-card",{staticClass:"mt-3"},[r("h4",[e._v("Profile Photo")]),e._v(" "),r("div",[r("mdb-btn",{attrs:{color:"default",type:"button"},on:{click:e.onPickFile}},[e._v("Upload Image"),r("mdb-icon",{staticClass:"ml-1",attrs:{icon:"image"}})],1),e._v(" "),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:e.onFilePicked}})],1),e._v(" "),r("div",[r("img",{attrs:{src:e.resultURL,height:"150"}})])]),e._v(" "),r("div",{staticClass:"text-xs-left"},[r("mdb-btn",{attrs:{color:"primary",disabled:e.trainerFormReset},nativeOn:{click:function(t){return t.preventDefault(),e.create()}}},[e._v("Submit\n                 "),!0===e.trainerFormReset?r("b-spinner",{attrs:{small:""}}):e._e(),e._v(" "),!0===e.trainerFormReset?r("span",{staticClass:"sr-only"},[e._v("Wait...")]):e._e()],1)],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),r("FlashMessage")],1)},[],!1,null,"6779ada1",null).exports},data:function(){return{currentComponent:"TrainersView",currentTrainersData:null}},methods:{changeCurrentComponent:function(e){this.currentTrainersData=e.data,console.log(e.data),this.currentComponent=e.component}}}),x=Object(m.a)(k,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"animated fadeIn"},[t(this.currentComponent,{tag:"component",attrs:{trainersData:this.currentTrainersData},on:{changeComponent:this.changeCurrentComponent}})],1)},[],!1,null,null,null);t.default=x.exports}}]);