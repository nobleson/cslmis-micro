(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1330:function(t,e,n){var o=n(30),r=n(31),c=n(55),m=/"/g,d=function(t,e,n,o){var r=String(c(t)),d="<"+e;return""!==n&&(d+=" "+n+'="'+String(o).replace(m,"&quot;")+'"'),d+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(d),o(o.P+o.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},1332:function(t,e,n){"use strict";var o=n(74),r=n(446),c=n(54);t.exports=function(t){for(var e=o(this),n=c(e.length),m=arguments.length,d=r(m>1?arguments[1]:void 0,n),l=m>2?arguments[2]:void 0,f=void 0===l?n:r(l,n);f>d;)e[d++]=t;return e}},1333:function(t,e,n){"use strict";var o=n(35),r=n(87);t.exports=function(object,t,e){t in object?o.f(object,t,r(0,e)):object[t]=e}},1334:function(t,e,n){"use strict";n(1330)("fixed",function(t){return function(){return t(this,"tt","","")}})},1335:function(t,e,n){"use strict";var o=n(65),r=n(30),c=n(74),m=n(451),d=n(447),l=n(54),f=n(1333),h=n(448);r(r.S+r.F*!n(449)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,y,v=c(t),C="function"==typeof this?this:Array,x=arguments.length,w=x>1?arguments[1]:void 0,_=void 0!==w,A=0,k=h(v);if(_&&(w=o(w,x>2?arguments[2]:void 0,2)),null==k||C==Array&&d(k))for(n=new C(e=l(v.length));e>A;A++)f(n,A,_?w(v[A],A):v[A]);else for(y=k.call(v),n=new C;!(r=y.next()).done;A++)f(n,A,_?m(y,w,[r.value,A],!0):r.value);return n.length=A,n}})},1336:function(t,e,n){var o=n(30);o(o.P,"Array",{fill:n(1332)}),n(139)("fill")},1337:function(t,e,n){"use strict";var o=n(30),r=n(54),c=n(197),m="".endsWith;o(o.P+o.F*n(198)("endsWith"),"String",{endsWith:function(t){var e=c(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,o=r(e.length),d=void 0===n?o:Math.min(r(n),o),l=String(t);return m?m.call(e,l,d):e.slice(d-l.length,d)===l}})},1338:function(t,e,n){"use strict";var o=n(30),r=n(450)(6),c="findIndex",m=!0;c in[]&&Array(1)[c](function(){m=!1}),o(o.P+o.F*m,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(139)(c)},1339:function(t,e,n){"use strict";n(1330)("bold",function(t){return function(){return t(this,"b","","")}})},1412:function(t,e,n){var content=n(1591);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("50ef6414",content,!0,{sourceMap:!1})},1413:function(t,e,n){var content=n(1593);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("06c3be24",content,!0,{sourceMap:!1})},1589:function(t,e,n){t.exports=n.p+"img/cbd03a9.png"},1590:function(t,e,n){"use strict";var o=n(1412);n.n(o).a},1591:function(t,e,n){(t.exports=n(16)(!1)).push([t.i,".tabs-component[data-v-78ad7258]{margin:4em 0}.tabs-component-tabs[data-v-78ad7258]{border:1px solid #ddd;border-radius:6px;margin-bottom:5px}@media (min-width:700px){.tabs-component-tabs[data-v-78ad7258]{border:0;align-items:stretch;display:flex;justify-content:flex-start;margin-bottom:-1px}}.tabs-component-tab[data-v-78ad7258]{color:#999;font-size:14px;font-weight:600;margin-right:0;list-style:none}.tabs-component-tab[data-v-78ad7258]:not(:last-child){border-bottom:1px dotted #ddd}.tabs-component-tab[data-v-78ad7258]:hover{color:#666}.tabs-component-tab.is-active[data-v-78ad7258]{color:#000}.tabs-component-tab.is-disabled *[data-v-78ad7258]{color:#cdcdcd;cursor:not-allowed!important}@media (min-width:700px){.tabs-component-tab[data-v-78ad7258]{background-color:#fff;border:1px solid #ddd;border-radius:3px 3px 0 0;margin-right:.5em;-webkit-transform:translateY(2px);transform:translateY(2px);transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.tabs-component-tab.is-active[data-v-78ad7258]{border-bottom:1px solid #fff;z-index:2;-webkit-transform:translateY(0);transform:translateY(0)}}.tabs-component-tab-a[data-v-78ad7258]{align-items:center;color:inherit;display:flex;padding:.75em 1em;text-decoration:none}.tabs-component-panels[data-v-78ad7258]{padding:4em 0}@media (min-width:700px){.tabs-component-panels[data-v-78ad7258]{border-top-left-radius:0;background-color:#fff;border:1px solid #ddd;border-radius:0 6px 6px 6px;box-shadow:0 0 10px rgba(0,0,0,.05);padding:4em 2em}}",""])},1592:function(t,e,n){"use strict";var o=n(1413);n.n(o).a},1593:function(t,e,n){(t.exports=n(16)(!1)).push([t.i,"small[data-v-57b4a4b5]{font-weight:300}",""])},1626:function(t,e,n){"use strict";n.r(e);var o=n(27),r=(n(141),n(1331)),c=n(75),m={components:{mdbTab:r.M,mdbTabItem:r.O,mdbTabContent:r.N,mdbTabPane:r.P,mdbDatatable:r.r,mdbTooltip:r.T,mdbGoogleMap:r.u,mdbContainer:r.q,mdbRow:r.J,mdbCol:r.p,mdbCard:r.c,mdbCardImage:r.i,mdbCardHeader:r.h,mdbEdgeHeader:r.s,mdbCardBody:r.e,mdbCardTitle:r.k,mdbCardText:r.j,mdbCardFooter:r.f,mdbCardUp:r.l,mdbCardAvatar:r.d,mdbCardGroup:r.g,mdbBtn:r.b,mdbView:r.U,mdbMask:r.z,mdbStretchedLink:r.L,mdbIcon:r.v,mdbFlippingCard:r.mdbFlippingCard,mdbAvatar:r.mdbAvatar,mdbTbl:r.R,mdbChip:r.mdbChip,mdbTabs:r.Q,mdbJumbotron:r.x,mdbCarousel:r.m,mdbCarouselItem:r.n,mdbProgress:r.I},data:function(){return{pillsActive:0,verticalWithin:0,tabIndex:0,companyData:{companyName:"",companyAcronym:"",companyNationality:"",companyStatus:"",companyWebsite:"",companyAddress:"",companyTelephone:"",companyEmail:"",companyCAC:"",companyFounded:"",companyActivities:"",companyLocalGovernment:"",companyState:"",dateRegistered:""},dataSet:{columns:[{label:"Copmany Name",field:"companyName",sort:"asc"},{label:"Company Accronym",field:"companyAcronym",sort:"asc"},{label:"Phone Number",field:"companyTelephone",sort:"asc"},{label:"Email Address",field:"companyEmail",sort:"asc"},{label:"State",field:"companyState",sort:"asc"},{label:"Local Government",field:"companyLocalGovernment",sort:"asc"},{label:"Address",field:"companyAddress",sort:"asc"},{label:"Local Government",field:"localgovernment",sort:"asc"}],rows:[]}}},mounted:function(){this.create()},computed:Object(o.a)({},Object(c.c)({companies:"company/getCompanies",isContentLoading:"company/getLoaderStatus"}),{processCompanies:function(){return JSON.parse(JSON.stringify(this.companies))},processTableData:function(){return this.dataSet.rows=this.companies,this.dataSet}}),methods:Object(o.a)({},Object(c.b)({loadCompanies:"company/loadCompanies"}),{create:function(){this.loadCompanies().then(function(t){}).catch(function(t){})},linkClass:function(t){return this.tabIndex===t?["bg-primary","text-light"]:["bg-light","text-info"]}})},d=(n(1590),n(3)),l=Object(d.a)(m,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("b-row",[o("b-col",{staticClass:"pb-3 pl-auto",attrs:{"align-self":"end",cols:"12"}},[o("mdb-btn",{staticClass:"text-white primary-color-dark",attrs:{size:"lg",color:"primary"},on:{click:function(e){return t.$emit("changeComponent",{component:"NewCompany",id:null})}}},[t._v("Create New")]),t._v(" "),o("hr")],1),t._v(" "),o("hr")],1),t._v(" "),o("mdb-row",[o("mdb-col",{staticClass:"m-5",attrs:{cols:"12"}},[o("mdb-tab",{attrs:{tabs:"",color:"primary",justify:""}},[o("mdb-tab-item",{attrs:{icon:"square",active:0==t.pillsActive},nativeOn:{click:function(e){e.preventDefault(),t.pillsActive=0}}},[t._v("Card View")]),t._v(" "),o("mdb-tab-item",{attrs:{icon:"table",active:1==t.pillsActive},nativeOn:{click:function(e){e.preventDefault(),t.pillsActive=1}}},[t._v("Table View")])],1),t._v(" "),o("mdb-tab-content",[0==t.pillsActive?o("mdb-tab-pane",{key:"show1",staticClass:"fade"},[o("mdb-row",t._l(t.processCompanies,function(body){return o("b-col",{key:body.id,attrs:{cols:"4"}},[o("div",[o("mdb-card",{attrs:{wide:""}},[o("mdb-card-up",{staticStyle:{"background-color":"#2BBBAD"}},[o("img",{attrs:{src:n(1589),width:"100%","max-height":"150px"}})]),t._v(" "),o("mdb-card-avatar",{staticClass:"mx-auto",attrs:{color:"white"}},[o("img",{staticClass:"rounded-circle mr-3",attrs:{src:body.logo,height:"170px",width:"150px/"}})]),t._v(" "),o("mdb-card-body",{staticClass:"text-center pb-0",attrs:{cascade:""}},[o("mdb-card-title",[o("strong",[t._v(t._s(body.companyName))])]),t._v(" "),o("h5",{staticClass:"blue-text"},[o("timeago",{attrs:{datetime:body.dateRegistered}})],1),t._v(" "),o("mdb-card-text",[t._v(t._s(body.companyAcronym))]),t._v(" "),o("mdb-card-footer",{staticClass:"text-muted mt-4"},[o("mdb-btn",{attrs:{outline:"default",darkWaves:"",size:"lg"},on:{click:function(e){return t.$emit("changeComponent",{component:"CompanyDetails",data:body})}}},[t._v("Manage")])],1)],1)],1)],1)])}),1),t._v(" "),t.isContentLoading?o("div",{staticClass:"text-center"},[o("b-spinner",{attrs:{variant:"primary",label:"Text Centered"}})],1):t._e()],1):t._e(),t._v(" "),1==t.pillsActive?o("mdb-tab-pane",{key:"show2",staticClass:"fade",staticStyle:{"min-height":"700px","overflow-y":"auto"}},[o("mdb-card",[o("mdb-tbl",{staticStyle:{"overflow-y":"auto","overflow-x":"hidden"}},[o("mdb-datatable",{attrs:{data:t.processTableData,striped:"",bordered:"",materialInputs:""}})],1)],1)],1):t._e()],1)],1)],1)],1)},[],!1,null,"78ad7258",null).exports,f={},h=Object(d.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"animated fadeIn"},[n("b-card",{attrs:{"header-tag":"header"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",[n("b-button",{on:{click:function(e){return t.$emit("changeComponent","CompanyListView")}}},[t._v("Back")])],1)]),t._v(" "),n("b-card-body",[n("b-row",[n("div",{},[t._v(" Forms")])])],1)],1)],1)},[],!1,null,null,null).exports,y=(n(200),n(66),n(1342)),v=(n(1345),n(1343)),C=n.n(v),x=n(1344),w=n.n(x);!y.apps.length&&y.initializeApp({apiKey:"AIzaSyA73Wdeedk01ZoL-oWX08r5UxWing28knM",authDomain:"cslmis-admin.firebaseapp.com",databaseURL:"https://cslmis-admin.firebaseio.com",projectId:"cslmis-admin",storageBucket:"gs://cslmis-admin-bucket",messagingSenderId:"263391859932",appId:"1:263391859932:web:4a6a7871600a3acd"});var _={directives:{focus:{inserted:function(t){t.focus()}}},components:{mdbEdgeHeader:r.s,mdbContainer:r.q,mdbRow:r.J,mdbCol:r.p,mdbCardBody:r.e,mdbInput:r.w,mdbBtn:r.b,mdbIcon:r.v,mdbCard:r.c,datepicker:w.a},data:function(){return{form:{companyName:null,companyAcronym:null,companyAddress:null,companyEmail:null,companyTelephone:null,dateRegistered:null,logo:""},items:[{value:""}],image:null,resultURL:"",photoURL:"",companyFormReset:!1,spinner:"0"}},computed:Object(o.a)({},Object(c.c)({formState:"company/getFormState",successState:"company/getSuccessState",errorState:"company/getErrorState"})),methods:Object(o.a)({},Object(c.b)({registerCompany:"company/registerCompany"}),{validEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},create:function(){var t=this;if(!this.form.companyName)return this.$bvModal.msgBoxOk("Company name required."),!1;if(!this.form.companyEmail)return this.$bvModal.msgBoxOk("Company email required."),!1;if(this.form.companyTelephone)if(this.form.companyAddress){this.companyFormReset=!this.companyFormReset;var e=C()(),n=this.image.name||"",o={contentType:this.image.type},r=n.slice(n.lastIndexOf("."));y.app().storage().ref("profile/"+e+"."+r).put(this.image,o).then(function(t){return t.ref.getDownloadURL()}).then(function(e){return t.saveProfile(e)}).catch(console.error)}else this.$bvModal.msgBoxOk("Company address is required.");else this.$bvModal.msgBoxOk("Company phone number is required.")},resetForm:function(){this.companyFormReset=!this.companyFormReset,this.watchSuccessState(),this.watchErrorState()},watchSuccessState:function(){this.successState&&(this.flashMessage.success({title:"GOT IT",message:"Company Registered Successfully",icon:!0}),this.form.companyName=this.form.companyAcronym=this.form.companyAddress=this.form.companyEmail=this.form.companyTelephone="")},watchErrorState:function(){this.errorState&&this.flashMessage.error({title:"Oops!: ",message:"Company Failed to Create. Try again",icon:!0})},onPickFile:function(){this.$refs.fileInput.click()},onFilePicked:function(t){var e=this,n=t.target.files;n[0].name.lastIndexOf(".")<=0&&alert("please enter a valid file");var o=new FileReader;o.addEventListener("load",function(){e.resultURL=o.result}),o.readAsDataURL(n[0]),this.image=n[0]},saveProfile:function(t){var e=this,n=new Date;return this.form.logo=t,this.form.dateRegistered=n,this.form.companyTelephone="+234"+this.form.companyTelephone.replace(/^0+/,""),console.log("Photo URL:"+t),console.log("Company form:"+JSON.stringify(this.form)),this.registerCompany(this.form).then(function(t){return e.resetForm()})}})},A=(n(1592),{components:{CompanyListView:l,CompanyDetails:h,NewCompany:Object(d.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"animated fadeIn"},[n("FlashMessage"),t._v(" "),n("section",{staticStyle:{background:"#ededed","padding-bottom":"100px"}},[n("mdb-edge-header",{staticStyle:{"background-color":"#2BBBAD"}}),t._v(" "),n("mdb-container",{attrs:{"free-bird":""}},[n("mdb-row",[n("mdb-col",{staticClass:"mx-auto float-none",attrs:{md:"8",lg:"7"}},[n("b-link",{staticClass:"card-link text-white",attrs:{href:"#"},on:{click:function(e){return t.$emit("changeComponent",{component:"CompanyListView",id:null})}}},[n("mdb-icon",{staticClass:"text-white",attrs:{icon:"arrow-left",size:"lg"}}),t._v("  View All Companies")],1),t._v(" "),n("b-card",{attrs:{title:"New Construction Company"}},[n("b-card-text",[n("div",[n("b-form",[n("b-form-group",{attrs:{label:"Company Name:","label-for":"companyname",description:"The full name of the company"}},[n("b-form-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{id:"companyname",type:"text",placeholder:"Enter company"},model:{value:t.form.companyName,callback:function(e){t.$set(t.form,"companyName",e)},expression:"form.companyName"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"Company Accronym:","label-for":"companyaccronym",description:"The short name of the company"}},[n("b-form-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{id:"companyaccronym",type:"text",placeholder:"Enter accronym / display name"},model:{value:t.form.companyAcronym,callback:function(e){t.$set(t.form,"companyAcronym",e)},expression:"form.companyAcronym"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"Compay Email Address:","label-for":"companyemail"}},[n("b-form-input",{attrs:{id:"companyemail",type:"email",required:"",placeholder:"Enter company email"},model:{value:t.form.companyEmail,callback:function(e){t.$set(t.form,"companyEmail",e)},expression:"form.companyEmail"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"Company Phone Number:","label-for":"phonenumber"}},[n("b-form-input",{attrs:{id:"phonenumber",type:"number",required:"",placeholder:"Enter company phone number"},model:{value:t.form.companyTelephone,callback:function(e){t.$set(t.form,"companyTelephone",e)},expression:"form.companyTelephone"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"Company Address:","label-for":"address"}},[n("b-form-input",{attrs:{id:"phonenumber",type:"text",required:"",placeholder:"Enter Company Address"},model:{value:t.form.companyAddress,callback:function(e){t.$set(t.form,"companyAddress",e)},expression:"form.companyAddress"}})],1),t._v(" "),n("b-card",{staticClass:"mt-3"},[n("h4",[t._v("Profile Photo ")]),t._v(" "),n("div",[n("mdb-btn",{attrs:{type:"button",color:"default"},on:{click:t.onPickFile}},[t._v("Upload Company Logo"),n("mdb-icon",{staticClass:"ml-1",attrs:{icon:"image"}})],1),t._v(" "),n("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFilePicked}})],1),t._v(" "),n("div",[n("img",{attrs:{src:t.resultURL,height:"150"}})])]),t._v(" "),n("b-button",{attrs:{type:"button",variant:"primary",disabled:t.companyFormReset},on:{click:t.create}},[t._v("Submit\n                               "),!0===t.companyFormReset?n("b-spinner",{attrs:{small:""}}):t._e(),t._v(" "),!0===t.companyFormReset?n("span",{staticClass:"sr-only"},[t._v("Wait...")]):t._e()],1)],1)],1)])],1)],1)],1)],1)],1)],1)},[],!1,null,"57b4a4b5",null).exports},data:function(){return{currentComponent:"CompanyListView",currentCompanyData:null}},methods:{changeCurrentComponent:function(t){this.currentCompanyData=t.data,this.currentComponent=t.component}}}),k=Object(d.a)(A,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"animated fadeIn"},[e(this.currentComponent,{tag:"component",attrs:{companyData:this.currentCompanyData},on:{changeComponent:this.changeCurrentComponent}})],1)},[],!1,null,null,null);e.default=k.exports}}]);